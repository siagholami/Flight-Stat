<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><h1 class="c14" id="h.xxjvjoy5nv7u"><span class="c12">Flight Stat</span></h1><h2 class="c6" id="h.pbcbp3yt9t0r"><span class="c4">Use Case</span></h2><p class="c1"><span class="c0">Flight Stat is an Alexa app that speaks with the user, gathers flight information and predicts flight delays. I presented this project at re:Invent 2017.</span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span class="c0">Input (X): [Origin City, Destination City, Flight Date, Airline]</span></p><p class="c1"><span class="c0">Output (Y): Flight Delay prediction in seconds </span></p><h2 class="c6" id="h.gkflz0bn0tce"><span class="c4">Dataset </span></h2><p class="c1"><span>The dataset came from </span><span class="c13"><a class="c8" href="https://www.google.com/url?q=https://www.transtats.bts.gov/DL_SelectFields.asp?Table_ID%3D236%26DB_Short_Name%3DOn-Time&amp;sa=D&amp;ust=1552249075336000">Bureau of Transportation Statistics</a></span><span class="c0">. It contains all domestic flight which is about 6,000,000 datapoints per year in CSV format. </span></p><h2 class="c6" id="h.ihz423qzzszc"><span class="c4">Data Pipeline </span></h2><p class="c1"><span class="c0">To better visualize the data and be able to query the dataset, an ETL job imported the data into an SQLite database. Then, the data processed and normalized into the HDF5 format to be used for ML models. </span></p><p class="c1 c5"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 521.00px; height: 81.00px;"><img alt="" src="images/image2.png" style="width: 521.00px; height: 81.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Fig 1. Flight Stat Data Pipeline</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c1"><span>All ETL jobs are implemented in Python. </span></p><p class="c1 c5"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><h2 class="c6 c16" id="h.a4ey5qa2x7wx"><span class="c4"></span></h2><h2 class="c6" id="h.3vvktu72l15o"><span class="c4">ML Models</span></h2><p class="c1"><span class="c0">I created and evaluated three ML models for this project: </span></p><h3 class="c3" id="h.31j7xz41emnh"><span class="c10">Regression Model </span></h3><p class="c1"><span class="c0">The first model is a simple linear regression model with all the inputs. I was able to quickly implement this model and train it. I used this as a baseline for other models in this project. </span></p><p class="c1 c5"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 330.21px; height: 213.50px;"><img alt="" src="images/image3.png" style="width: 330.21px; height: 213.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Fig 2. Flight Stat Regression Model</span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span class="c0">The model is implemented by AWS Lambda and Amazon Machine Learning.</span></p><hr style="page-break-before:always;display:none;"><h3 class="c3 c5" id="h.mpwbqwmg7bgb"><span class="c10"></span></h3><h3 class="c3" id="h.ovd5r8919nnd"><span class="c10">Decision Tree + Regression Model </span></h3><p class="c1"><span class="c0">The second model is a simple decision tree plus four different linear regression models. The decision tree will determine the season of the prediction (e.g. Spring) and then uses the corresponding linear model for prediction. Four different models were trained independently based on their appropriate seasonal datapoints. </span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 399.50px; height: 437.62px;"><img alt="" src="images/image5.png" style="width: 399.50px; height: 437.62px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Fig 3. Flight Stat Decision Tree + Regression Model </span></p><p class="c2 c5"><span class="c0"></span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span class="c0">The model is implemented by AWS Lambda and Amazon Machine Learning.</span></p><p class="c1 c5"><span class="c0"></span></p><hr style="page-break-before:always;display:none;"><h3 class="c3 c5" id="h.xbw4b0t0ufgx"><span class="c10"></span></h3><h3 class="c3" id="h.tpepc4k1nkuu"><span class="c10">Multilayer Perceptron Model (MLP)</span></h3><p class="c1"><span class="c0">The last model was a 5-layer MLP Neural Network that was trained on all the data. </span></p><p class="c1 c5"><span class="c0"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 459.00px; height: 181.00px;"><img alt="" src="images/image4.png" style="width: 459.00px; height: 181.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Fig 4. Flight Stat MLP Model</span></p><p class="c2 c5"><span class="c0"></span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span class="c0">The model is implemented in TensorFlow.</span></p><h2 class="c6" id="h.du54lhw59iv3"><span class="c4">Training</span></h2><p class="c1"><span class="c0">The dataset was sliced into 99% training and 1% testing. I trained the MLP model on one P3.16xlarge with Deep Learning AMI. The model is saved after each epoch. </span></p><h2 class="c6" id="h.tq6o0yt8uv9"><span class="c4">Inference</span></h2><p class="c1"><span class="c0">The inference is done with a saved TensorFlow model in a single lambda function. </span></p><h2 class="c6" id="h.cyc1ovk184zp"><span class="c4">Deployment</span></h2><p class="c1"><span class="c0">The final models were all deployed in a serverless architecture using AWS Lambda:</span></p><p class="c1 c5"><span class="c0"></span></p><p class="c1"><span><br></span><hr style="page-break-before:always;display:none;"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 674.33px; height: 521.50px;"><img alt="" src="images/image1.png" style="width: 674.33px; height: 521.50px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Fig 5. Flight Stat Deployment Architecture</span></p><p class="c1 c5"><span class="c0"></span></p><div><p class="c1"><span class="c9">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></p></div></body></html>
